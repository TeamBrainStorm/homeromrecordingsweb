<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book a Session | Home Room Recordings</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #C41E3A;  /* Rich Red - classic recording studio color */
            --primary-hover: #A01830;
            --secondary-color: #1DB954; /* Spotify Green for success states */
            --accent-color: #FFD700;   /* Gold for accents */
            --danger-color: #FF4444;   /* Bright Red for warnings */
            --background-color: #ffffff;
            --card-background: #ffffff;
            --text-color: #1F2937;
            --text-secondary: #6B7280;
            --border-color: rgba(0, 0, 0, 0.1);
            --card-radius: 8px;
            --button-radius: 6px;
            --transition: all 0.2s ease;
        }

        nav {
            background: var(--primary-color);
            width: 100%;
        }

        .nav-container {
            background: var(--primary-color);
            color: white;
        }

        .logo {
            color: white;
        }

        .nav-links a {
            color: rgba(255, 255, 255, 0.8);
            transition: var(--transition);
        }

        .nav-links a:hover, .nav-links a.active {
            color: white;
            background: var(--primary-hover);
        }

        .booking-section {
            padding: 4rem 2rem;
            background: var(--background-color);
        }

        .booking-form {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: var(--card-radius);
            padding: 3rem;
            max-width: 1200px;
            margin: 0 auto;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .form-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .form-header h2 {
            font-size: 2.5rem;
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        .form-header .section-subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .form-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            font-size: 1.1rem;
            border: 1px solid var(--border-color);
            border-radius: var(--button-radius);
            background: var(--background-color);
            transition: var(--transition);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(196, 30, 58, 0.1);
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .booking-slots {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .booking-slot {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: var(--card-radius);
            padding: 1.5rem;
            transition: var(--transition);
        }

        .booking-slot:hover {
            border-color: var(--primary-color);
        }

        .slot-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .slot-header h4 {
            font-size: 1.1rem;
            margin: 0;
            color: var(--text-color);
        }

        .time-range {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .add-slot-btn {
            width: 100%;
            padding: 1rem;
            margin-top: 1rem;
            background: var(--background-color);
            border: 1px dashed var(--border-color);
            border-radius: var(--card-radius);
            color: var(--text-secondary);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .add-slot-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .price-summary {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: var(--card-radius);
            padding: 2rem;
            margin: 2rem 0;
        }

        .summary-header h4 {
            font-size: 1.3rem;
            margin: 0 0 1.5rem 0;
            color: var(--text-color);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .summary-row:last-child {
            border-bottom: none;
            font-weight: 600;
            color: var(--primary-color);
        }

        .disclaimer-text {
            background: rgba(239, 68, 68, 0.05);
            border-left: 4px solid var(--danger-color);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: var(--button-radius);
        }

        .disclaimer-text strong {
            color: var(--danger-color);
        }

        .submit-btn {
            width: 100%;
            padding: 1.2rem;
            font-size: 1.1rem;
            font-weight: 500;
            border: none;
            border-radius: var(--button-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .submit-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .booking-section {
                padding: 2rem 1rem;
            }

            .booking-form {
                padding: 2rem 1.5rem;
            }

            .form-header h2 {
                font-size: 2rem;
            }

            .time-range {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo">
                <img src="images/logo.png" alt="Homeroom Recordings Logo">
            </div>
            <ul class="nav-links">
                <li><a href="index.html#services">Services</a></li>
                <li><a href="studio.html">Studio</a></li>
                <li><a href="beats.html">Beats</a></li>
                <li><a href="booking.html" class="active">Book Now</a></li>
            </ul>
        </div>
    </nav>

    <header class="page-hero light-hero">
        <div class="hero-content">
            <h1>Book Your Session</h1>
            <p>Let's bring your music to life</p>
        </div>
    </header>

    <section id="rates" class="rates-section">
        <div class="section-header">
            <h2>Our Rates</h2>
            <p class="section-subtitle">Simple and transparent pricing</p>
        </div>
        <div class="rates-grid">
            <div class="rate-card">
                <div class="license-header">
                    <h3>Emailed Mixdowns</h3>
                    <p class="price">$30<span>/track</span></p>
                </div>
                <ul class="rate-features">
                    <li><i class="fas fa-check"></i> Send Your Tracks</li>
                    <li><i class="fas fa-check"></i> Professional Mix</li>
                    <li><i class="fas fa-check"></i> Quick Turnaround</li>
                    <li><i class="fas fa-check"></i> Digital Delivery</li>
                </ul>
            </div>
            <div class="rate-card featured">
                <div class="license-header">
                    <h3>Recording Session</h3>
                    <p class="price">$20<span>/hour</span></p>
                </div>
                <ul class="rate-features">
                    <li><i class="fas fa-check"></i> Professional Equipment</li>
                    <li><i class="fas fa-check"></i> Studio Space</li>
                    <li><i class="fas fa-check"></i> Engineer Included</li>
                    <li><i class="fas fa-check"></i> Basic Mix Included</li>
                </ul>
            </div>
            <div class="rate-card">
                <div class="license-header">
                    <h3>In Studio Mixdowns</h3>
                    <p class="price">$25<span>/track</span></p>
                </div>
                <ul class="rate-features">
                    <li><i class="fas fa-check"></i> Professional Mix</li>
                    <li><i class="fas fa-check"></i> In Person Session</li>
                    <li><i class="fas fa-check"></i> Real-time Feedback</li>
                    <li><i class="fas fa-check"></i> Studio Monitors</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="booking-section">
        <div class="booking-form">
            <div class="form-header">
                <h2>Book Your Session</h2>
                <p class="section-subtitle">Fill out the form below and we'll get back to you within 24 hours</p>
            </div>

            <div class="form-content">
                <div class="form-group">
                    <input type="text" id="name" name="name" placeholder="Your Name" required>
                </div>
                <div class="form-group">
                    <input type="email" id="email" name="email" placeholder="Your Email" required>
                </div>
                <div class="form-group">
                    <input type="tel" id="phone" name="phone" placeholder="Your Phone Number" required>
                </div>
                <div class="form-group">
                    <select id="service" name="service" required onchange="updateTotalPrice()">
                        <option value="">Select Service</option>
                        <option value="recording">Recording Session ($20/hour)</option>
                        <option value="mastering_studio">In Studio Mastering ($25/hour)</option>
                        <option value="mastering_email">Email Mastering ($30/hour)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="booking-dates">Select Dates and Times</label>
                    <div id="booking-slots" class="booking-slots">
                        <div class="booking-slot">
                            <div class="slot-header">
                                <h4>Booking Slot</h4>
                                <button type="button" class="remove-slot" onclick="removeSlot(this)" style="display: none;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="slot-inputs">
                                <input type="date" name="dates[]" required min="" class="date-input">
                                <div class="time-range">
                                    <select name="start_times[]" required class="time-select">
                                        <option value="">Start Time</option>
                                        <option value="9">9:00 AM</option>
                                        <option value="10">10:00 AM</option>
                                        <option value="11">11:00 AM</option>
                                        <option value="12">12:00 PM (Noon)</option>
                                        <option value="13">1:00 PM</option>
                                        <option value="14">2:00 PM</option>
                                        <option value="15">3:00 PM</option>
                                        <option value="16">4:00 PM</option>
                                        <option value="17">5:00 PM</option>
                                        <option value="18">6:00 PM</option>
                                        <option value="19">7:00 PM</option>
                                        <option value="20">8:00 PM</option>
                                        <option value="21">9:00 PM</option>
                                        <option value="22">10:00 PM</option>
                                        <option value="23">11:00 PM</option>
                                        <option value="24">12:00 AM</option>
                                    </select>
                                    <select name="durations[]" required class="duration-select">
                                        <option value="">Duration</option>
                                        <option value="1">1 Hour</option>
                                        <option value="2">2 Hours</option>
                                        <option value="3">3 Hours</option>
                                        <option value="4">4 Hours</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="add-slot-btn" onclick="addBookingSlot()">
                        <i class="fas fa-plus"></i> Add Another Time Slot
                    </button>
                </div>

                <div class="price-summary" id="price-summary">
                    <div class="summary-header">
                        <h4>Booking Summary</h4>
                    </div>
                    <div class="summary-content">
                        <div class="summary-row">
                            <span>Rate:</span>
                            <span id="rate-display">Please select a service</span>
                        </div>
                        <div class="summary-row">
                            <span>Total Hours:</span>
                            <span id="total-hours">0</span>
                        </div>
                        <div class="summary-row">
                            <span>Total Price:</span>
                            <span id="total-price">$0</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <textarea id="message" name="message" placeholder="Tell us about your project" required></textarea>
                </div>

                <div class="disclaimer-text">
                    <strong>No Refund Policy:</strong> By clicking the pay button, you acknowledge that there are no refunds available. If you need to reschedule, you must contact us before your scheduled session time, otherwise no refund will be provided for missed sessions.
                </div>

                <button type="button" id="payment-btn" class="submit-btn" onclick="handlePayment()" disabled>
                    <i class="fab fa-square-cash"></i>
                    <span id="payment-btn-text">Pay Now</span>
                </button>
            </div>
        </div>
    </section>

    <script>
        // Set minimum date to today for all date inputs
        const today = new Date().toISOString().split('T')[0];
        document.querySelectorAll('.date-input').forEach(input => {
            input.min = today;
        });

        function getHourlyRate() {
            const service = document.getElementById('service').value;
            switch(service) {
                case 'recording':
                    return 20;
                case 'mastering_studio':
                    return 25;
                case 'mastering_email':
                    return 30;
                default:
                    return 0;
            }
        }

        function addBookingSlot() {
            const container = document.getElementById('booking-slots');
            const newSlot = container.children[0].cloneNode(true);
            
            // Reset values
            newSlot.querySelectorAll('input, select').forEach(input => {
                input.value = '';
            });
            
            // Show remove button for all slots
            document.querySelectorAll('.remove-slot').forEach(btn => {
                btn.style.display = 'block';
            });
            
            container.appendChild(newSlot);
            updateTotalPrice();
        }

        function removeSlot(button) {
            const slot = button.closest('.booking-slot');
            const container = document.getElementById('booking-slots');
            
            if (container.children.length > 1) {
                slot.remove();
                
                // Hide remove button if only one slot left
                if (container.children.length === 1) {
                    container.querySelector('.remove-slot').style.display = 'none';
                }
            }
            updateTotalPrice();
        }

        function updateTotalPrice() {
            const hourlyRate = getHourlyRate();
            let totalHours = 0;
            
            document.querySelectorAll('.duration-select').forEach(select => {
                totalHours += parseInt(select.value) || 0;
            });
            
            const totalPrice = totalHours * hourlyRate;
            
            document.getElementById('total-hours').textContent = totalHours;
            document.getElementById('total-price').textContent = totalPrice ? `$${totalPrice}` : '$0';

            // Update rate display in summary
            const serviceText = document.getElementById('service').options[document.getElementById('service').selectedIndex].text;
            document.getElementById('rate-display').textContent = hourlyRate ? `$${hourlyRate}/hour - ${serviceText.split('(')[0].trim()}` : 'Please select a service';

            // Enable/disable payment button based on total price
            const payButton = document.getElementById('payment-btn');
            payButton.disabled = totalPrice === 0;
        }

        // Check if device is mobile
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        // Update button text based on device
        function updatePaymentButton() {
            const paymentBtn = document.getElementById('payment-btn');
            const paymentBtnText = document.getElementById('payment-btn-text');
            const paymentIcon = paymentBtn.querySelector('i');

            if (isMobileDevice()) {
                paymentBtn.style.backgroundColor = '#00D632'; // CashApp green
                paymentBtnText.textContent = 'Pay with CashApp';
                paymentIcon.className = 'fab fa-square-cash';
            } else {
                paymentBtn.style.backgroundColor = '#006AFF'; // Square blue
                paymentBtnText.textContent = 'Pay with Square';
                paymentIcon.className = 'fas fa-credit-card';
            }
        }

        // Handle payment based on device
        function handlePayment() {
            const totalPrice = document.getElementById('total-price').textContent;
            const amount = totalPrice.replace('$', '');
            const customerName = document.getElementById('name').value;
            const serviceText = document.getElementById('service').options[document.getElementById('service').selectedIndex].text;
            const note = `${customerName} - ${serviceText}`;

            if (isMobileDevice()) {
                // Redirect to CashApp
                const cashtag = 'HomeroomRecordings';
                const cashappURL = `https://cash.app/$${cashtag}/${amount}`;
                window.location.href = cashappURL;
            } else {
                // Redirect to Square payment page
                const squareURL = 'https://square.link/u/uW2ZU7EE';
                window.location.href = squareURL;
            }

            // Save form data
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                service: document.getElementById('service').value,
                dates: Array.from(document.getElementsByName('dates[]')).map(input => input.value),
                times: Array.from(document.getElementsByName('start_times[]')).map(select => select.value),
                durations: Array.from(document.getElementsByName('durations[]')).map(select => select.value),
                message: document.getElementById('message').value,
                amount: amount,
                paymentMethod: isMobileDevice() ? 'CashApp' : 'Square'
            };
            localStorage.setItem('bookingFormData', JSON.stringify(formData));
        }

        // Initialize payment button on page load
        window.onload = function() {
            updatePaymentButton();
            
            // Check for returning payment
            const formData = localStorage.getItem('bookingFormData');
            if (formData) {
                localStorage.removeItem('bookingFormData');
                alert('Thank you for your payment! We will contact you shortly to confirm your booking.');
            }
        }
    </script>

    <footer>
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>Home Room Recordings</h3>
                    <p>Professional Recording Studio</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html#services">Services</a></li>
                        <li><a href="studio.html">Studio</a></li>
                        <li><a href="beats.html">Beats</a></li>
                        <li><a href="booking.html">Book Now</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <div class="footer-contact-buttons">
                        <a href="mailto:homeroomrecordings@gmail.com" class="contact-button">
                            <i class="fas fa-envelope"></i>
                            Send Email
                        </a>
                        <a href="tel:+15734160151" class="contact-button">
                            <i class="fas fa-phone"></i>
                            Call Now
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Home Room Recordings. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html> 